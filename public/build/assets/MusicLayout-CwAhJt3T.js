import{q as i,k as V,x as G,y as J,a as n,b as k,o as a,d as e,z as j,t as m,n as y,A as M,B as K,c as Q,h as d,w as c,u as h,l as v,i as $,C as _}from"./app-C58QEufY.js";const W={key:0,class:"fixed bottom-0 left-0 right-0 h-[92px] bg-[#121216] border-t border-[#32323d] flex items-center justify-between px-4 z-50"},Y={class:"flex items-center gap-4 w-[30%] min-w-0"},ee=["src","alt"],te={class:"flex-1 min-w-0 flex flex-col justify-center"},oe={class:"flex items-center gap-2"},re={href:"#",class:"text-[14px] font-semibold text-white hover:underline truncate"},se={href:"#",class:"text-xs text-[#a2a2a2] hover:underline truncate"},le={class:"flex flex-col items-center flex-1 max-w-[40%]"},ae={class:"flex items-center gap-6 mb-2"},ne={key:0,class:"w-5 h-5 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24"},ie={key:1,class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},ue={class:"flex items-center gap-3 w-full group"},de={class:"text-[11px] text-[#a2a2a2] w-8 text-right font-mono"},ce={class:"text-[11px] text-[#a2a2a2] w-8 font-mono"},he={class:"flex items-center justify-end gap-4 w-[30%]"},ve={class:"flex items-center gap-2 w-24 group"},pe={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},fe={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},xe=["src"],ge={__name:"DeezerPlayer",props:{track:{type:Object,required:!0}},emits:["close","next","previous"],setup(x,{emit:p}){const o=x,t=p,s=i(null),f=i(!1),C=i(0),w=i(0),u=i(100),B=i(!1),b=i(!1),z=i(!1),H=V(()=>w.value===0?0:C.value/w.value*100),T=V(()=>o.track?.audio?`/storage/${o.track.audio}`:""),N=V(()=>z.value||!o.track.image?`https://picsum.photos/seed/${o.track.id||o.track.title}/100`:`/storage/${o.track.image}`),P=()=>{z.value=!0},A=l=>{console.error("Erreur chargement audio:",l),f.value=!1},L=()=>{s.value&&(f.value?s.value.pause():s.value.play(),f.value=!f.value)},I=()=>{s.value&&(C.value=s.value.currentTime)},D=()=>{s.value&&(w.value=s.value.duration)},q=l=>{if(!s.value)return;const r=l.currentTarget.getBoundingClientRect(),g=Math.max(0,Math.min(1,(l.clientX-r.left)/r.width));s.value.currentTime=g*w.value},R=l=>{if(!s.value)return;const r=l.currentTarget.getBoundingClientRect(),g=Math.max(0,Math.min(1,(l.clientX-r.left)/r.width));u.value=g*100,s.value.volume=g},F=()=>{s.value&&(u.value>0?(u.value=0,s.value.volume=0):(u.value=50,s.value.volume=.5))},S=l=>{if(!l||isNaN(l))return"0:00";const r=Math.floor(l/60),g=Math.floor(l%60);return`${r}:${g.toString().padStart(2,"0")}`},X=()=>t("previous"),E=()=>t("next"),O=()=>{B.value=!B.value},U=()=>{b.value=!b.value,s.value&&(s.value.loop=b.value)},Z=()=>{b.value||E()};return G(()=>o.track,()=>{s.value&&(s.value.load(),s.value.play().then(()=>{f.value=!0}).catch(()=>{f.value=!1}),C.value=0,z.value=!1)}),J(()=>{s.value&&(s.value.volume=u.value/100)}),(l,r)=>x.track?(a(),n("div",W,[e("div",Y,[e("img",{src:N.value,alt:x.track.title,class:"w-[56px] h-[56px] rounded hover:brightness-75 transition-all cursor-pointer object-cover",onError:P},null,40,ee),e("div",te,[e("div",oe,[e("a",re,m(x.track.title),1),r[0]||(r[0]=j('<button class="text-[#a2a2a2] hover:text-[#ef5466]"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg></button><button class="text-[#a2a2a2] hover:text-white"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg></button>',2))]),e("a",se,m(x.track.artist),1)])]),e("div",le,[e("div",ae,[e("button",{onClick:O,class:y(["text-[#a2a2a2] hover:text-white transition-colors",{"text-[#a238ff]":B.value}])},[...r[1]||(r[1]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)])],2),e("button",{onClick:X,class:"text-white hover:text-[#a238ff] transition-colors"},[...r[2]||(r[2]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M11 17l-5-5 5-5v10zm7 0l-5-5 5-5v10z"})],-1)])]),e("button",{onClick:L,class:"w-10 h-10 flex items-center justify-center bg-[#a238ff] text-white rounded-full hover:scale-105 transition-transform shadow-lg hover:shadow-[#a238ff]/40"},[f.value?(a(),n("svg",ie,[...r[4]||(r[4]=[e("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)])])):(a(),n("svg",ne,[...r[3]||(r[3]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])]))]),e("button",{onClick:E,class:"text-white hover:text-[#a238ff] transition-colors"},[...r[5]||(r[5]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M13 7l5 5-5 5V7zM6 7l5 5-5 5V7z"})],-1)])]),e("button",{onClick:U,class:y(["text-[#a2a2a2] hover:text-white transition-colors",{"text-[#a238ff]":b.value}])},[...r[6]||(r[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])],2)]),e("div",ue,[e("span",de,m(S(C.value)),1),e("div",{class:"flex-1 h-1 bg-[#32323d] rounded-full cursor-pointer relative",onClick:q},[e("div",{class:"absolute h-full bg-white rounded-full group-hover:bg-[#a238ff] transition-colors",style:M({width:H.value+"%"})},null,4),e("div",{class:"absolute h-3 w-3 bg-white rounded-full top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity shadow-sm border border-[#a238ff]",style:M({left:H.value+"%"})},null,4)]),e("span",ce,m(S(w.value)),1)])]),e("div",he,[r[9]||(r[9]=j('<button class="text-[#a2a2a2] hover:text-white text-xs font-bold border border-[#a2a2a2] rounded px-1 group-hover:border-white"> HIFI </button><button class="text-[#a2a2a2] hover:text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><button class="text-[#a2a2a2] hover:text-white"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path></svg></button>',3)),e("div",ve,[e("button",{class:"text-[#a2a2a2] hover:text-white",onClick:F},[u.value>0?(a(),n("svg",pe,[...r[7]||(r[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},null,-1)])])):(a(),n("svg",fe,[...r[8]||(r[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"},null,-1)])]))]),e("div",{class:"flex-1 h-1 bg-[#32323d] rounded-full cursor-pointer relative",onClick:R},[e("div",{class:"absolute h-full bg-white rounded-full group-hover:bg-[#a238ff] transition-colors",style:M({width:u.value+"%"})},null,4),e("div",{class:"absolute h-3 w-3 bg-white rounded-full top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity shadow-sm border border-[#a238ff]",style:M({left:u.value+"%"})},null,4)])]),r[10]||(r[10]=e("button",{class:"text-[#a2a2a2] hover:text-white"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})])],-1))]),e("audio",{ref_key:"audioElement",ref:s,src:T.value,onTimeupdate:I,onLoadedmetadata:D,onEnded:Z,onError:A},null,40,xe)])):k("",!0)}},me={class:"flex h-screen bg-[#000000] text-white overflow-hidden font-sans"},we={class:"w-64 bg-[#0a0a0a] flex flex-col border-r border-[#222] z-40 relative shadow-2xl"},be={class:"flex-1 px-4 space-y-2"},ke={key:0,class:"pt-6 mt-6 border-t border-white/5"},ye={key:0,class:"flex items-center gap-3 mb-2 p-3 rounded-2xl hover:bg-white/5 transition-colors cursor-pointer group border border-transparent hover:border-white/5"},Ce={class:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg group-hover:shadow-purple-500/20 group-hover:scale-105 transition-all"},Me={class:"text-sm font-bold text-white"},$e={class:"flex-1 min-w-0"},je={class:"text-sm font-bold text-white truncate group-hover:text-purple-400 transition-colors"},Be={key:1,class:"space-y-3 px-2"},ze={class:"flex-1 flex flex-col overflow-hidden bg-[#000000] relative"},Ve={class:"h-20 bg-transparent flex items-center justify-between px-8 z-20"},_e={key:0,class:"flex items-center gap-4"},He={class:"flex-1 overflow-y-auto p-8 relative z-10 scroll-smooth custom-scrollbar"},Se={key:0,class:"mb-10 flex items-end justify-between"},Ee={class:"text-4xl md:text-5xl font-black text-white tracking-tight mb-2"},Te={class:"flex items-center gap-4"},Pe={__name:"MusicLayout",setup(x){const p=i(null);return K("setCurrentTrack",o=>{p.value=o}),(o,t)=>(a(),n("div",me,[e("aside",we,[t[11]||(t[11]=j('<div class="p-6 mb-2"><div class="flex items-center gap-3 text-white group cursor-pointer"><div class="relative w-8 h-8 flex items-center justify-center"><div class="absolute inset-0 bg-gradient-to-tr from-purple-600 to-blue-600 rounded-full blur-md opacity-60 group-hover:opacity-100 transition-opacity"></div><svg class="w-8 h-8 text-white relative z-10" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5zm0-5.5c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z"></path></svg></div><span class="text-2xl font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400">MusicApp</span></div></div>',1)),e("nav",be,[d(h(v),{href:o.route("tracks.index"),class:y(["group flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-300",[o.route().current("tracks.index")?"bg-gradient-to-r from-purple-600/20 to-transparent text-purple-400 font-bold border-l-2 border-purple-500":"text-gray-400 hover:text-white hover:bg-white/5"]])},{default:c(()=>[...t[3]||(t[3]=[e("svg",{class:"w-6 h-6 transition-transform group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1),e("span",null,"Musiques",-1)])]),_:1},8,["href","class"]),d(h(v),{href:o.route("playlists.index"),class:y(["group flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-300",[o.route().current("playlists.index")?"bg-gradient-to-r from-green-600/20 to-transparent text-green-400 font-bold border-l-2 border-green-500":"text-gray-400 hover:text-white hover:bg-white/5"]])},{default:c(()=>[...t[4]||(t[4]=[e("svg",{class:"w-6 h-6 transition-transform group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),e("span",null,"Playlists",-1)])]),_:1},8,["href","class"]),o.$page.props.auth.user?.admin?(a(),n("div",ke,[t[6]||(t[6]=e("p",{class:"px-4 text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] mb-3"},"Zone Admin",-1)),d(h(v),{href:o.route("tracks.create"),class:"group flex items-center gap-4 px-4 py-3 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all"},{default:c(()=>[...t[5]||(t[5]=[e("div",{class:"p-1.5 rounded-lg bg-white/5 group-hover:bg-white text-white group-hover:text-black transition-colors"},[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),e("span",{class:"font-medium"},"Ajouter un titre",-1)])]),_:1},8,["href"])])):k("",!0)]),e("div",{class:y(["p-4 border-t border-white/5 bg-[#0a0a0a]",{"pb-[100px]":p.value}])},[o.$page.props.auth.user?(a(),n("div",ye,[e("div",Ce,[e("span",Me,m(o.$page.props.auth.user.name.charAt(0).toUpperCase()),1)]),e("div",$e,[e("p",je,m(o.$page.props.auth.user.name),1),t[7]||(t[7]=e("p",{class:"text-[11px] text-gray-500 truncate"},"Compte Premium",-1))]),d(h(v),{href:o.route("logout"),method:"post",as:"button",class:"text-gray-400 hover:text-white p-2 hover:bg-white/10 rounded-full transition-colors",title:"DÃ©connexion"},{default:c(()=>[...t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1)])]),_:1},8,["href"])])):(a(),n("div",Be,[d(h(v),{href:o.route("login"),class:"block w-full py-3 text-center text-sm font-bold text-white bg-white/10 hover:bg-white/20 rounded-full transition-all border border-white/5 backdrop-blur-sm"},{default:c(()=>[...t[9]||(t[9]=[$(" Connexion ",-1)])]),_:1},8,["href"]),d(h(v),{href:o.route("register"),class:"block w-full py-3 text-center text-sm font-bold text-black bg-white hover:bg-gray-200 rounded-full transition-all shadow-lg hover:shadow-white/20"},{default:c(()=>[...t[10]||(t[10]=[$(" Inscription ",-1)])]),_:1},8,["href"])]))],2)]),e("div",ze,[t[15]||(t[15]=e("div",{class:"absolute top-0 left-0 w-full h-[500px] bg-gradient-to-b from-purple-900/10 to-transparent pointer-events-none"},null,-1)),e("header",Ve,[t[14]||(t[14]=j('<div class="flex items-center gap-4"><button class="w-10 h-10 rounded-full bg-black/40 hover:bg-white/10 flex items-center justify-center text-white transition-all backdrop-blur-md border border-white/5"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button><button class="w-10 h-10 rounded-full bg-black/40 hover:bg-white/10 flex items-center justify-center text-white transition-all backdrop-blur-md border border-white/5"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div>',1)),o.$page.props.auth.user?k("",!0):(a(),n("div",_e,[d(h(v),{href:o.route("login"),class:"px-6 py-2.5 text-sm font-bold text-gray-300 hover:text-white hover:scale-105 transition-all"},{default:c(()=>[...t[12]||(t[12]=[$(" S'identifier ",-1)])]),_:1},8,["href"]),d(h(v),{href:o.route("register"),class:"px-8 py-3 text-sm font-bold bg-white text-black rounded-full hover:scale-105 transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)]"},{default:c(()=>[...t[13]||(t[13]=[$(" S'inscrire ",-1)])]),_:1},8,["href"])]))]),e("main",He,[o.$slots.title||o.$slots.actions?(a(),n("div",Se,[e("div",null,[e("h1",Ee,[_(o.$slots,"title")])]),e("div",Te,[_(o.$slots,"actions")])])):k("",!0),_(o.$slots,"content")])]),p.value?(a(),Q(ge,{key:0,track:p.value,onClose:t[0]||(t[0]=s=>p.value=null),onNext:t[1]||(t[1]=s=>console.log("Next track")),onPrevious:t[2]||(t[2]=s=>console.log("Previous track"))},null,8,["track"])):k("",!0)]))}};export{Pe as _};
