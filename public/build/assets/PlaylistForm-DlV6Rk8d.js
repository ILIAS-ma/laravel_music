import{a as o,d as e,f as m,b as c,v as b,n,t as d,F as p,g as f,e as h,o as l}from"./app-C58QEufY.js";import{_ as g}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={name:"PlaylistForm",props:{playlist:Object,tracks:Array},data(){return{form:this.$inertia.form({title:this.playlist?.title??"",tracks:this.playlist?.tracks.map(i=>i.slug)??[]})}},methods:{submit(){this.playlist?this.form.put(route("playlists.update",{playlist:this.playlist})):this.form.post(route("playlists.store"))},toggleTrack(i){const r=this.form.tracks.indexOf(i);r>-1?this.form.tracks.splice(r,1):this.form.tracks.push(i)}}},y={class:"bg-[#181818] p-8 rounded-2xl border border-white/5"},_={class:"mb-8"},v={key:0,class:"text-red-500 text-sm mt-2"},w={class:"mb-8"},k={class:"block text-gray-400 text-sm font-bold mb-4 uppercase tracking-wider"},j={class:"max-h-[600px] overflow-y-auto pr-2 space-y-2 custom-scrollbar"},C=["onClick"],B={class:"relative w-12 h-12 flex-shrink-0"},F=["src"],M={key:0,class:"absolute inset-0 bg-[#1db954]/80 flex items-center justify-center rounded-md backdrop-blur-[1px]"},T={class:"flex-1 min-w-0"},P={class:"text-xs text-gray-500 truncate"},V={key:0,class:"w-2.5 h-2.5 bg-white rounded-full"},D={class:"flex justify-end pt-6 border-t border-white/5"},E=["disabled"];function L(i,r,u,N,t,a){return l(),o("form",{onSubmit:r[1]||(r[1]=h((...s)=>a.submit&&a.submit(...s),["prevent"])),class:"max-w-4xl mx-auto space-y-8"},[e("div",y,[e("div",_,[r[2]||(r[2]=e("label",{class:"block text-gray-400 text-sm font-bold mb-2 uppercase tracking-wider",for:"title"}," Titre de la playlist ",-1)),m(e("input",{id:"title","onUpdate:modelValue":r[0]||(r[0]=s=>t.form.title=s),class:n(["w-full bg-[#121212] border border-[#333] rounded-xl py-4 px-5 text-white text-lg placeholder-gray-600 focus:outline-none focus:border-[#1db954] focus:ring-1 focus:ring-[#1db954] transition-all",{"border-red-500":t.form.errors.title}]),type:"text",placeholder:"Ma super playlist..."},null,2),[[b,t.form.title]]),t.form.errors.title?(l(),o("p",v,d(t.form.errors.title),1)):c("",!0)]),e("div",w,[e("label",k," Sélectionner les titres ("+d(t.form.tracks.length)+") ",1),e("div",j,[(l(!0),o(p,null,f(u.tracks,s=>(l(),o("div",{key:s.slug,onClick:O=>a.toggleTrack(s.slug),class:n(["flex items-center gap-4 p-3 rounded-xl cursor-pointer transition-all border border-transparent group hover:bg-[#282828]",{"bg-[#282828] border-[#1db954]/30":t.form.tracks.includes(s.slug)}])},[e("div",B,[e("img",{src:s.image?`/storage/${s.image}`:`https://picsum.photos/seed/${s.id}/100`,class:"w-full h-full object-cover rounded-md"},null,8,F),t.form.tracks.includes(s.slug)?(l(),o("div",M,[...r[3]||(r[3]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])])):c("",!0)]),e("div",T,[e("h4",{class:n(["text-white font-medium truncate",{"text-[#1db954]":t.form.tracks.includes(s.slug)}])},d(s.title),3),e("p",P,d(s.artist),1)]),e("div",{class:n(["w-6 h-6 rounded-full border-2 border-gray-600 flex items-center justify-center transition-colors group-hover:border-[#1db954]",{"bg-[#1db954] border-[#1db954]":t.form.tracks.includes(s.slug)}])},[t.form.tracks.includes(s.slug)?(l(),o("div",V)):c("",!0)],2)],10,C))),128))])]),e("div",D,[e("button",{type:"submit",disabled:t.form.processing,class:"bg-[#1db954] hover:bg-[#1ed760] text-black font-bold py-3 px-8 rounded-full transition-transform transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-[#1db954]/20"},d(u.playlist?"Enregistrer les modifications":"Créer la playlist"),9,E)])])],32)}const A=g(x,[["render",L]]);export{A as P};
